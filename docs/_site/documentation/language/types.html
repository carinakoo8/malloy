<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Malloy Documentation</title>
    <link rel="stylesheet" href="/malloy/css/document.css">
    <link rel="shortcut icon" type="image/x-icon" href="/img/favicon.ico"/>
  </head>
  <body>
    <div class="top">
      <div class="header">
        <img src="/malloy/img/logo.png" alt="malloy logo"/>Malloy <span class="subtitle">Documentation</span>
      </div>
      <div class="main">
        <div class="sidebar">
    <div>
        <div class="sidebar-section-title">Getting Started</div>
        <div class='sidebar-item '>
            <a href="/malloy/documentation/index.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              The Tao of Malloy
            </a>
          </div>
<div class='sidebar-item '>
            <a href="/malloy/documentation/features.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              Key Features
            </a>
          </div>
      </div>
<div>
        <div class="sidebar-section-title">Language Reference</div>
        <div class='sidebar-item '>
            <a href="/malloy/documentation/language/overview.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              Introduction
            </a>
          </div>
<div class='sidebar-item '>
            <a href="/malloy/documentation/language/basic.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              Malloy Quickstart
            </a>
          </div>
<div class='sidebar-item '>
            <a href="/malloy/documentation/language/statement.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              Models
            </a>
          </div>
<div class='sidebar-item '>
            <a href="/malloy/documentation/language/explore.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              Explores
            </a>
          </div>
<div class='sidebar-item '>
            <a href="/malloy/documentation/language/query.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              Queries
            </a>
          </div>
<div class='sidebar-item '>
            <a href="/malloy/documentation/language/fields.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              Fields
            </a>
          </div>
<div class='sidebar-item active'>
            <a href="/malloy/documentation/language/types.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              Types
            </a>
          </div>
<div class='sidebar-item '>
            <a href="/malloy/documentation/language/expressions.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              Expressions
            </a>
          </div>
<div class='sidebar-item '>
            <a href="/malloy/documentation/language/order_by.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              Ordering and Limiting
            </a>
          </div>
<div class='sidebar-item '>
            <a href="/malloy/documentation/language/join.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              Joins
            </a>
          </div>
<div class='sidebar-item '>
            <a href="/malloy/documentation/language/filters.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              Filters
            </a>
          </div>
<div class='sidebar-item '>
            <a href="/malloy/documentation/language/nesting.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              Nested Queries
            </a>
          </div>
<div class='sidebar-item '>
            <a href="/malloy/documentation/language/aggregates.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              Aggregates
            </a>
          </div>
<div class='sidebar-item '>
            <a href="/malloy/documentation/language/imports.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              Imports and Exports
            </a>
          </div>
      </div>
<div>
        <div class="sidebar-section-title">Common Patterns</div>
        <div class='sidebar-item '>
            <a href="/malloy/documentation/patterns/yoy.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              Year Over Year Analysis
            </a>
          </div>
<div class='sidebar-item '>
            <a href="/malloy/documentation/patterns/foreign_sums.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              Foreign Sums and Averages
            </a>
          </div>
<div class='sidebar-item '>
            <a href="/malloy/documentation/patterns/percent_of_total.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              Percent of Total
            </a>
          </div>
<div class='sidebar-item '>
            <a href="/malloy/documentation/patterns/cohorts.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              Cohort Analysis
            </a>
          </div>
<div class='sidebar-item '>
            <a href="/malloy/documentation/patterns/pivot_limits.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              Pivot Limits
            </a>
          </div>
<div class='sidebar-item '>
            <a href="/malloy/documentation/patterns/sessionize.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              Sessionized Data
            </a>
          </div>
      </div>
<div>
        <div class="sidebar-section-title">Visualizations</div>
        <div class='sidebar-item '>
            <a href="/malloy/documentation/visualizations/bar_charts.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              Bar Charts
            </a>
          </div>
<div class='sidebar-item '>
            <a href="/malloy/documentation/visualizations/charts_line_chart.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              Line Charts
            </a>
          </div>
<div class='sidebar-item '>
            <a href="/malloy/documentation/visualizations/shape_maps.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              Shape Maps
            </a>
          </div>
<div class='sidebar-item '>
            <a href="/malloy/documentation/visualizations/segment_maps.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              Segment Maps
            </a>
          </div>
<div class='sidebar-item '>
            <a href="/malloy/documentation/visualizations/scatter_charts.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              Scatter Charts
            </a>
          </div>
      </div>
<div>
        <div class="sidebar-section-title">Examples</div>
        <div class='sidebar-item '>
            <a href="/malloy/documentation/examples/ecommerce.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              eCommerce Analysis
            </a>
          </div>
<div class='sidebar-item '>
            <a href="/malloy/documentation/examples/faa.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              NTSB Flight Database
            </a>
          </div>
<div class='sidebar-item '>
            <a href="/malloy/documentation/examples/names.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              The Name Game
            </a>
          </div>
<div class='sidebar-item '>
            <a href="/malloy/documentation/examples/ga_sessions.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              Google Analytics GA360
            </a>
          </div>
      </div>
<div>
        <div class="sidebar-section-title">Iowa Liquor - An Analysis</div>
        <div class='sidebar-item '>
            <a href="/malloy/documentation/examples/iowa/iowa.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              About the Data Set
            </a>
          </div>
<div class='sidebar-item '>
            <a href="/malloy/documentation/examples/iowa/source.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              The Malloy Data Model
            </a>
          </div>
<div class='sidebar-item '>
            <a href="/malloy/documentation/examples/iowa/step2.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              Basic Calculations
            </a>
          </div>
<div class='sidebar-item '>
            <a href="/malloy/documentation/examples/iowa/step2a.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              Analysis: Products and Brands
            </a>
          </div>
<div class='sidebar-item '>
            <a href="/malloy/documentation/examples/iowa/step3.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              Bucketing and Mapping
            </a>
          </div>
<div class='sidebar-item '>
            <a href="/malloy/documentation/examples/iowa/step6.html">
              <img src="/malloy/img/docs-page.svg" alt="document"/>
              Dashboards
            </a>
          </div>
      </div>

  </div>
        <div class="content">
          <div class="footer">
            
            <div class="linear-navigation">
    <div class="item">
      <a href="fields.html"><img src="/malloy/img/previous.svg" alt="previous"/>Fields</a>
    </div>
    <div class="item">
      <a href="expressions.html">Expressions<img src="/malloy/img/next.svg" alt="next"/></a>
    </div>
  </div>
            
          </div>
          <div class="document-outer">
            <div class="document">
      <h1>
        <a id="types" class="header-link anchor" href="#types">
          Types
        </a>
      </h1>
    <p>All fields in Malloy have a type. Today, these types are
mostly scalar, with a few notable exceptions.</p>

      <h2>
        <a id="scalar-types" class="header-link anchor" href="#scalar-types">
          Scalar Types
        </a>
      </h2>
    
      <h3>
        <a id="numbers" class="header-link anchor" href="#numbers">
          Numbers
        </a>
      </h3>
    <p>All numbers in Malloy are of type <code class="language-malloy"><span class="token type">number</span></code>, including BiqQuery's <code>INTEGER</code>, <code>INT64</code>, <code>FLOAT</code>, and <code>FLOAT64</code> types.</p>
<p>Literal <code class="language-malloy"><span class="token type">number</span></code>s consist of one or more digits optionally followed
by a decimal point <code class="language-malloy"><span class="token punctuation">.</span></code> and more digits, e.g. <code class="language-malloy"><span class="token number">42</span></code> or <code class="language-malloy"><span class="token number">3.14</span></code>.</p>
<p>Negative numbers are represented using the unary minus
operator, e.g. <code class="language-malloy"><span class="token operator">-</span><span class="token number">7</span></code>.</p>
<p>Today, no other forms of literal numbers (e.g. numbers in other
bases, numbers with thousand separators, exponential notation, etc.) are legal.</p>

      <h3>
        <a id="strings" class="header-link anchor" href="#strings">
          Strings
        </a>
      </h3>
    <p>In Malloy, strings of any length are represented by the <code class="language-malloy"><span class="token type">string</span></code> type.</p>
<p>Literal strings in Malloy are enclosed in single quotes <code class="language-malloy">'</code>, and may include the escape sequences <code class="language-malloy">\\</code> or <code class="language-malloy">\<span class="token punctuation">.</span></code>, e.g. <code class="language-malloy"><span class="token string">'\'Hello, world\''</span></code>.</p>

      <h3>
        <a id="dates-and-timestamps" class="header-link anchor" href="#dates-and-timestamps">
          Dates and Timestamps
        </a>
      </h3>
    <p>Malloy has two time types, <code class="language-malloy"><span class="token type">date</span></code> and <code class="language-malloy"><span class="token type">timestamp</span></code>.</p>
<p>Both the <code class="language-malloy"><span class="token type">date</span></code> and <code class="language-malloy"><span class="token type">timestamp</span></code> types may have an associated
<em>timeframe</em>, which can be <code class="language-malloy"><span class="token timeframe">year</span></code>, <code class="language-malloy"><span class="token timeframe">quarter</span></code>, <code class="language-malloy"><span class="token timeframe">month</span></code>,
<code class="language-malloy"><span class="token timeframe">week</span></code>, or <code class="language-malloy"><span class="token timeframe">day</span></code>, and for <code class="language-malloy"><span class="token type">timestamp</span></code>s only, additionally
<code class="language-malloy"><span class="token timeframe">hour</span></code>, <code class="language-malloy"><span class="token timeframe">minute</span></code>, or <code class="language-malloy"><span class="token timeframe">second</span></code>.</p>
<p>Literals for <code class="language-malloy"><span class="token type">date</span></code> and <code class="language-malloy"><span class="token type">timestamp</span></code> are preceded by the <code class="language-malloy"><span class="token date">@</span></code> character, e.g. <code class="language-malloy"><span class="token date">@2003</span></code> or <code class="language-malloy"><span class="token date">@1983-11-23 10:00:10</span></code>. For all
variations of time literals and informaition about their interaction with comparison operators, see the <a href="time-ranges.html#literals">Time Ranges</a> section.</p>

      <h3>
        <a id="booleans" class="header-link anchor" href="#booleans">
          Booleans
        </a>
      </h3>
    <p>The <code class="language-malloy"><span class="token type">boolean</span></code> type covers both the <code>BOOLEAN</code> and <code>BOOL</code> types from BigQuery.</p>
<p>In Malloy, the boolean literals are written <code class="language-malloy"><span class="token boolean">true</span></code> and <code class="language-malloy"><span class="token boolean">false</span></code>.</p>

      <h3>
        <a id="bytes" class="header-link anchor" href="#bytes">
          Bytes
        </a>
      </h3>
    <p>Bytestrings are represented by the <code>bytes</code> type
in Malloy.</p>
<p>There is currently no syntax for specifying <code>bytes</code> literals or casting to the <code>bytes</code> type.</p>
<!-- TODO Add information about how Malloy has arrays and structs, though with no literal form, type keyword, or support in expressions. Currently, structs and arrays only exist in that the output type of a query is an array of structs (or possibly a single struct in some cases) --><!-- ## Compound Types

Today, Malloy contains only one compound type, the <code>struct</code>.

### Structs

All queries are of type <code>struct</code>, which map field
names to values. In JSON output from Malloy, structs are
represented by JSON objects. -->
      <h2>
        <a id="intermediate-types" class="header-link anchor" href="#intermediate-types">
          Intermediate Types
        </a>
      </h2>
    <p>The following types are not assignable to fields, and are
therefore considered <em>intermediate types</em>, in that they are
primarily used to represent part of a computation that
yields a regular scalar type, often <code class="language-malloy"><span class="token type">boolean</span></code>.</p>

      <h3>
        <a id="regular-expressions" class="header-link anchor" href="#regular-expressions">
          Regular Expressions
        </a>
      </h3>
    <p>Literal regular expressions are enclosed in single quotation
marks <code class="language-malloy">'</code> and preceded by either <code class="language-malloy"><span class="token operator">/</span></code> or <code class="language-malloy">r</code>, e.g. <code class="language-malloy"><span class="token regular_expression">/'.*'</span></code> or <code class="language-malloy"><span class="token regular_expression">r'.*'</span></code>. Both syntaxes are semantically equivalent.</p>
<p>In the future, the literal regular expressions will likely
be simply slash-enclosed, e.g <code>/.*/</code>.</p>
<p>Values of type <code class="language-malloy"><span class="token type">string</span></code> may be compared against regular
expressions using either the <a href="apply.html">apply operator</a>,<code class="language-malloy">name: <span class="token regular_expression">r'c.*'</span></code> or the like operator, <code class="language-malloy">name <span class="token operator">~</span> <span class="token regular_expression">r'c.*'</span></code>.</p>

      <h3>
        <a id="ranges" class="header-link anchor" href="#ranges">
          Ranges
        </a>
      </h3>
    <p>There are three types of ranges today: <code class="language-malloy"><span class="token type">string</span></code> ranges, <code class="language-malloy"><span class="token type">date</span></code> ranges, and <code class="language-malloy"><span class="token type">timestamp</span></code> ranges. The most basic ranges
are of the form <code class="language-malloy">start <span class="token keyword">to</span> end</code> and represent the inclusive range between <code class="language-malloy">start</code> and <code class="language-malloy">end</code>, e.g. <code class="language-malloy"><span class="token number">10</span> <span class="token keyword">to</span> <span class="token number">20</span></code> or <code class="language-malloy"><span class="token date">@2004-01</span> <span class="token keyword">to</span> <span class="token date">@2005-05</span></code>.</p>
<p>Ranges may be used in conjunction with the <a href="apply.html">apply operator</a> to test whether a value falls within a given range.</p>
<p>In the future, other ranges may be allowed, such as <code class="language-malloy"><span class="token type">string</span></code> ranges.</p>

      <h3>
        <a id="alternations-and-partials" class="header-link anchor" href="#alternations-and-partials">
          Alternations and Partials
        </a>
      </h3>
    <p><em>Partials</em> represent a "part of" a comparison.
Specifically, a partial is a comparison missing its
left-hand side, and represents the condition of the
comparison yielding <code class="language-malloy"><span class="token boolean">true</span></code> if a given value were to be
filled in for that missing left-hand side. For example, <code class="language-malloy"><span class="token operator">></span> <span class="token number">10</span></code> is a partial that represents the condition "is greater
than ten." Likewise, <code class="language-malloy"><span class="token operator">!=</span> <span class="token string">'CA'</span></code> is a partial that represents the condition of not being equal to <code class="language-malloy"><span class="token string">'CA'</span></code>.</p>
<p><em>Alternations</em> are combinations of partials representing
either the logical union ("or") or conjunction ("and") of
their conditions. Alternations are represented using the
union alternation operator <code class="language-malloy"><span class="token operator">|</span></code> and the conjunction
alternation operator <code class="language-malloy"><span class="token operator">&amp;</span></code>.</p>
<p>For example, <code class="language-malloy"><span class="token operator">=</span> <span class="token string">'CA'</span> <span class="token operator">|</span> <span class="token operator">=</span> <span class="token string">'NY'</span></code> represents the condition of being equal to 'CA' or <em>alternatively</em> being equal to 'NY'. On the other hand, <code class="language-malloy"><span class="token operator">!=</span> <span class="token string">'CA'</span> <span class="token operator">&amp;</span> <span class="token operator">!=</span> <span class="token string">'NY'</span></code> represents the condition of being not equal to 'CA' <em>as well as</em> being not equal to 'NY'.</p>
<p>Scalar values, regular expressions, and
ranges may also be used in alternations, in which case the
condition is assumed to be that of equality, matching, and
inclusion respectively.</p>
<p>For example, <code class="language-malloy"><span class="token string">'CA'</span> <span class="token operator">|</span> <span class="token regular_expression">r'N.*'</span></code> represents the condition of being equal to 'CA' or starting with 'N', and <code class="language-malloy"><span class="token number">10</span> <span class="token keyword">to</span> <span class="token number">20</span> <span class="token operator">|</span> <span class="token number">20</span> <span class="token keyword">to</span> <span class="token number">30</span></code> represents the condition of being <em>either</em> between 10 and 20 <em>or</em> 20 and 30.</p>
<p>Alternations and partials may be used in conjunction with the <a href="apply.html">apply operator</a> to test whether a value meets the given condition.</p>

      <h2>
        <a id="nullability" class="header-link anchor" href="#nullability">
          Nullability
        </a>
      </h2>
    <p>Today, all Malloy types include the value <code class="language-malloy"><span class="token keyword">null</span></code>, however
in the future Malloy may have a concept of nullable vs.
non-nullable types.</p>
</div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>