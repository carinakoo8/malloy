<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Malloy Documentation</title>
    <link rel="stylesheet" href="/malloy/css/document.css" />
    <link rel="shortcut icon" type="image/x-icon" href="/img/favicon.ico" />
    <script
  async
  src="https://www.googletagmanager.com/gtag/js?id=G-0M10W7C20Y"
></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag("js", new Date());

  gtag("config", "G-0M10W7C20Y");
</script>

  </head>
  <body>
    <div class="top">
      <div class="header">
        <div class="header-banner">
          <img src="/malloy/img/logo.png" alt="malloy logo" />
          Malloy
          <span class="subtitle">Documentation</span>
        </div>
        <form onSubmit="() => alert('submit')" action="/malloy/search">
          <div class="search-input-outer">
            <img src="/malloy/img/search.svg" alt="search" />
            <input placeholder="Search" id="search-input" name="query" />
          </div>
          <input type="submit" style="display: none" />
        </form>
      </div>
      <div class="main">
        <div class="sidebar" id="sidebar">
    <div class="sidebar-section">
      <div id=getting_started
        class="sidebar-section-title collapsed"
      >
        Getting Started
        <img class="chevron-open" src="/malloy/img/section_open.svg" alt="section open"/>
        <img class="chevron-closed" src="/malloy/img/section_close.svg" alt="section closed"/>
      </div>
      <div class="sidebar-section-item-group">
        <div class='sidebar-item '>
      <a href="/malloy/documentation/index.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        About Malloy
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/malloy_by_example.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Malloy By Example
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/language/basic.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Quickstart
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/features.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Key Features
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/samples.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Sample Models
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/connection_instructions.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Connecting a Database
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/tao.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        The Tao of Malloy
      </a>
    </div>
      </div>
    </div>
<div class="sidebar-section">
      <div id=language_reference
        class="sidebar-section-title collapsed"
      >
        Language Reference
        <img class="chevron-open" src="/malloy/img/section_open.svg" alt="section open"/>
        <img class="chevron-closed" src="/malloy/img/section_close.svg" alt="section closed"/>
      </div>
      <div class="sidebar-section-item-group">
        <div class='sidebar-item '>
      <a href="/malloy/documentation/language/overview.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Introduction
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/language/sql_to_malloy.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        SQL to Malloy
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/language/statement.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Models
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/language/source.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Sources
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/language/query.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Queries
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/language/fields.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Fields
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/language/aggregates.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Aggregates
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/language/filters.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Filters
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/language/order_by.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Ordering and Limiting
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/language/join.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Joins
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/language/nesting.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Nested Queries
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/language/expressions.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Expressions
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/language/sql_blocks.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        SQL Blocks
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/language/imports.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Imports
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/language/types.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Types
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/language/changelog.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Change Log
      </a>
    </div>
      </div>
    </div>
<div class="sidebar-section">
      <div id=rendering_results
        class="sidebar-section-title collapsed"
      >
        Rendering Results
        <img class="chevron-open" src="/malloy/img/section_open.svg" alt="section open"/>
        <img class="chevron-closed" src="/malloy/img/section_close.svg" alt="section closed"/>
      </div>
      <div class="sidebar-section-item-group">
        <div class='sidebar-item '>
      <a href="/malloy/documentation/visualizations/dashboards.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Intro: Charts & Dashboards
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/visualizations/bar_charts.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Bar Charts
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/visualizations/charts_line_chart.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Line Charts
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/visualizations/scatter_charts.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Scatter Charts
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/visualizations/shape_maps.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Shape Maps
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/visualizations/segment_maps.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Segment Maps
      </a>
    </div>
      </div>
    </div>
<div class="sidebar-section">
      <div id=common_patterns
        class="sidebar-section-title collapsed"
      >
        Common Patterns
        <img class="chevron-open" src="/malloy/img/section_open.svg" alt="section open"/>
        <img class="chevron-closed" src="/malloy/img/section_close.svg" alt="section closed"/>
      </div>
      <div class="sidebar-section-item-group">
        <div class='sidebar-item '>
      <a href="/malloy/documentation/patterns/yoy.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Year Over Year Analysis
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/patterns/foreign_sums.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Foreign Sums and Averages
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/patterns/percent_of_total.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Percent of Total
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/patterns/cohorts.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Cohort Analysis
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/patterns/pivot_limits.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Pivot Limits
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/patterns/sessionize.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Sessionized Data
      </a>
    </div>
      </div>
    </div>
<div class="sidebar-section">
      <div id=examples
        class="sidebar-section-title collapsed"
      >
        Examples
        <img class="chevron-open" src="/malloy/img/section_open.svg" alt="section open"/>
        <img class="chevron-closed" src="/malloy/img/section_close.svg" alt="section closed"/>
      </div>
      <div class="sidebar-section-item-group">
        <div class="sidebar-section">
      <div id=ntsb_flight database
        class="sidebar-section-title collapsed"
      >
        NTSB Flight Database
        <img class="chevron-open" src="/malloy/img/section_open.svg" alt="section open"/>
        <img class="chevron-closed" src="/malloy/img/section_close.svg" alt="section closed"/>
      </div>
      <div class="sidebar-section-item-group">
        <div class='sidebar-item '>
      <a href="/malloy/documentation/examples/faa/bigquery.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        FAA Dashboards
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/examples/faa/postgres.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Connect with Postgres
      </a>
    </div>
      </div>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/examples/ecommerce.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        eCommerce Analysis
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/examples/names.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        The Name Game
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/examples/ga_sessions.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Google Analytics GA360
      </a>
    </div>
      </div>
    </div>
<div class="sidebar-section">
      <div id=walkthrough:_iowa liquor
        class="sidebar-section-title collapsed"
      >
        Walkthrough: Iowa Liquor
        <img class="chevron-open" src="/malloy/img/section_open.svg" alt="section open"/>
        <img class="chevron-closed" src="/malloy/img/section_close.svg" alt="section closed"/>
      </div>
      <div class="sidebar-section-item-group">
        <div class='sidebar-item '>
      <a href="/malloy/documentation/examples/iowa/iowa.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        About the Data Set
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/examples/iowa/source.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        The Malloy Data Model
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/examples/iowa/step2.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Basic Calculations
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/examples/iowa/step2a.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Analysis: Products and Brands
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/examples/iowa/step3.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Bucketing and Mapping
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/examples/iowa/step6.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Dashboards
      </a>
    </div>
      </div>
    </div>
<div class="sidebar-section">
      <div id=walkthrough:_wordle solver
        class="sidebar-section-title collapsed"
      >
        Walkthrough: Wordle Solver
        <img class="chevron-open" src="/malloy/img/section_open.svg" alt="section open"/>
        <img class="chevron-closed" src="/malloy/img/section_close.svg" alt="section closed"/>
      </div>
      <div class="sidebar-section-item-group">
        <div class='sidebar-item '>
      <a href="/malloy/documentation/examples/wordle/wordle.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Just Words
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/examples/wordle/wordle1a.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Letters and Positioning
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/examples/wordle/wordle2.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Letter Frequency
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/examples/wordle/wordle3.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Scoring Words
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/examples/wordle/wordle4.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Final Model
      </a>
    </div>
<div class='sidebar-item '>
      <a href="/malloy/documentation/examples/wordle/wordle5.html">
        <img src="/malloy/img/article_icon.svg" alt="document"/>
        Solving Puzzles
      </a>
    </div>
      </div>
    </div>
  </div>
        <script src="/malloy/js/sidebar_state.js"></script>
        <div class="content">
          <div class="footer">
             <div class="linear-navigation">
    <div class="item">
      
    </div>
    <div class="item">
      <a href="../index.html">About Malloy<img src="/malloy/img/next.svg" alt="next"/></a>
    </div>
  </div> 
          </div>
          <div class="document-outer"><div class="document">
      <h1>
        <a id="malloy-time-range-expressions" class="header-link anchor" href="#malloy-time-range-expressions">
          Malloy time range expressions
        </a>
      </h1>
    
      <h2>
        <a id="range-expressions" class="header-link anchor" href="#range-expressions">
          Range expressions
        </a>
      </h2>
    <p>There are two forms of range expressions</p>
<ul>
<li><p><em>expr</em> <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #0000FF">to</span></span></code> <em>expr</em> ( <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #098658">@2001 to</span><span style="color: #000000"> </span><span style="color: #098658">@2003</span></span></code>)</p>
</li>
<li><p><em>expr</em> <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #0000FF">for</span></span></code> <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">N</span></span></code> <em>units</em> ( <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">now</span><span style="color: #000000"> </span><span style="color: #0000FF">for</span><span style="color: #000000"> </span><span style="color: #098658">15</span><span style="color: #000000"> </span><span style="color: #0000FF">minutes</span></span></code> )</p>
</li></ul>
<p>A timestamp can be compared to a range. If the time stamp is within
the range it will be <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #000000">=</span></span></code>. Before the range it will be <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #000000">&lt;</span></span></code> and after
the range it will be <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #000000">&gt;</span></span></code>. If you <a href="apply.html">apply</a> a range, (for example, <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">eventDate</span><span style="color: #000000">: </span><span style="color: #098658">@2003 to</span><span style="color: #000000"> </span><span style="color: #098658">@2004</span></span></code>) that will also check if the value is within the range.</p>

      <h2>
        <a id="range-shortcuts" class="header-link anchor" href="#range-shortcuts">
          Range shortcuts
        </a>
      </h2>
    <p>Because grouping and filtering by specific time ranges is such a common operation for a data transformation task, Malloy has a number of expressive short cuts. The full power of the underlying SQL engine is also available for any type of truncation or extraction not supported by these shortcuts.</p>
<p>Malloy supports two time-related types, <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #267F99">timestamp</span></span></code> and <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #267F99">date</span></span></code>.
Both of these can be used with these techniques, though the exact
truncations or extractions available will vary depending on the
data type (e.g. it would make no sense to attempt to truncate a <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #267F99">date</span></span></code> object by <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #0000FF">minute</span></span></code>).</p>

      <h2>
        <a id="truncation" class="header-link anchor" href="#truncation">
          Truncation
        </a>
      </h2>
    <p>To create truncation, use the <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #000000">.</span></span></code> operator followed by the desired timeframe.</p>
<p>By way of example, if the value of <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">expr</span></span></code> is <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #098658">@2021-08-06 00:36</span></span></code>, then the below truncations will produce the results on the right:</p>
<table>
<thead>
<tr>
<th>expression</th>

<th>result</th>
</tr>
</thead>
<tbody><tr>
<td><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">expr</span><span style="color: #000000">.</span><span style="color: #0000FF">minute</span></span></code></td>

<td>2021-08-06 00:36</td>
</tr>

<tr>
<td><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">expr</span><span style="color: #000000">.</span><span style="color: #0000FF">hour</span></span></code></td>

<td>2021-08-06 00:00</td>
</tr>

<tr>
<td><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">expr</span><span style="color: #000000">.</span><span style="color: #0000FF">day</span></span></code></td>

<td>2021-08-06</td>
</tr>

<tr>
<td><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">expr</span><span style="color: #000000">.</span><span style="color: #0000FF">week</span></span></code></td>

<td>WK2021-08-01 <em>(the week containing the 10th)</em></td>
</tr>

<tr>
<td><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">expr</span><span style="color: #000000">.</span><span style="color: #0000FF">month</span></span></code></td>

<td>2021-08</td>
</tr>

<tr>
<td><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">expr</span><span style="color: #000000">.</span><span style="color: #0000FF">quarter</span></span></code></td>

<td>Q2-2021</td>
</tr>

<tr>
<td><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">expr</span><span style="color: #000000">.</span><span style="color: #0000FF">year</span></span></code></td>

<td>2021</td>
</tr>
</tbody></table>

      <h3>
        <a id="truncations-as-ranges" class="header-link anchor" href="#truncations-as-ranges">
          Truncations as ranges
        </a>
      </h3>
    <p>A truncation made this way (unlike a truncation make in SQL with
<code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">TIMESTAMP_TRUNC</span><span style="color: #000000">()</span></span></code>) can also function as a range. The range begins
at the moment of truncation and the duration is the timeframe unit
used to specify the truncation, so for example <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">eventDate</span><span style="color: #000000">.</span><span style="color: #0000FF">year</span></span></code>
would be a range covering the entire year which contains <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">eventDate</span></span></code></p>
<p>This is extremely useful with the <a href="apply.html">Apply operator</a>, <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #000000">?</span></span></code>. To see if two events happen in the same calendar year, for example, the boolean expression in Malloy is <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">oneEvent</span><span style="color: #000000"> ? </span><span style="color: #001080">otherEvent</span><span style="color: #000000">.</span><span style="color: #0000FF">year</span></span></code></p>

      <h2>
        <a id="extraction" class="header-link anchor" href="#extraction">
          Extraction
        </a>
      </h2>
    <p>Another very common grouping for time related data is by particular components, and this extraction of a single component as an integer. In Malloy this gesture looks like a function call.</p>
<p>The "Result" column uses a value of <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #098658">2021</span><span style="color: #000000">-08-06 00:</span><span style="color: #098658">55</span><span style="color: #000000">:05</span></span></code> for <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">expr</span></span></code>.</p>
<table>
<thead>
<tr>
<th>expression</th>

<th>meaning</th>

<th>result</th>
</tr>
</thead>
<tbody><tr>
<td><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #0000FF">day_of_year</span><span style="color: #000000">(</span><span style="color: #001080">expr</span><span style="color: #000000">)</span></span></code></td>

<td>day of year, 1-365</td>

<td>218</td>
</tr>

<tr>
<td><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #795E26">day</span><span style="color: #000000">(</span><span style="color: #001080">expr</span><span style="color: #000000">)</span></span></code></td>

<td>day of month 1-31</td>

<td>5</td>
</tr>

<tr>
<td><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">day_of_week</span><span style="color: #000000">(</span><span style="color: #001080">expr</span><span style="color: #000000">)</span></span></code></td>

<td>day of week 1-7</td>

<td>6 <em>(Note: 1 represents Sunday)</em></td>
</tr>

<tr>
<td><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #795E26">week</span><span style="color: #000000">(</span><span style="color: #001080">expr</span><span style="color: #000000">)</span></span></code></td>

<td>week in year, 1-53</td>

<td>31</td>
</tr>

<tr>
<td><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #795E26">quarter</span><span style="color: #000000">(</span><span style="color: #001080">expr</span><span style="color: #000000">)</span></span></code></td>

<td>quarter in year 1-4</td>

<td>3</td>
</tr>

<tr>
<td><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #795E26">hour</span><span style="color: #000000">(</span><span style="color: #001080">expr</span><span style="color: #000000">)</span></span></code></td>

<td>hour of day 0-23</td>

<td>0</td>
</tr>

<tr>
<td><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #795E26">minute</span><span style="color: #000000">(</span><span style="color: #001080">expr</span><span style="color: #000000">)</span></span></code></td>

<td>minute of hour 0-59</td>

<td>55</td>
</tr>

<tr>
<td><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #795E26">second</span><span style="color: #000000">(</span><span style="color: #001080">expr</span><span style="color: #000000">)</span></span></code></td>

<td>second of minute 0-59</td>

<td>5</td>
</tr>
</tbody></table>

      <h2>
        <a id="interval-extraction" class="header-link anchor" href="#interval-extraction">
          Interval extraction
        </a>
      </h2>
    <p>To measure the difference between two times, pass a range expression to
one of these extraction functions:</p>
<table>
<thead>
<tr>
<th>expression</th>

<th>meaning</th>
</tr>
</thead>
<tbody><tr>
<td><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #795E26">seconds</span><span style="color: #000000">(</span><span style="color: #001080">t1</span><span style="color: #000000"> </span><span style="color: #0000FF">to</span><span style="color: #000000"> </span><span style="color: #001080">t2</span><span style="color: #000000">)</span></span></code></td>

<td>Number of seconds from t1 until t2</td>
</tr>

<tr>
<td><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #795E26">minutes</span><span style="color: #000000">(</span><span style="color: #001080">t1</span><span style="color: #000000"> </span><span style="color: #0000FF">to</span><span style="color: #000000"> </span><span style="color: #001080">t2</span><span style="color: #000000">)</span></span></code></td>

<td>... minutes ...</td>
</tr>

<tr>
<td><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #795E26">hours</span><span style="color: #000000">(</span><span style="color: #001080">t1</span><span style="color: #000000"> </span><span style="color: #0000FF">to</span><span style="color: #000000"> </span><span style="color: #001080">t2</span><span style="color: #000000">)</span></span></code></td>

<td>... hours ...</td>
</tr>

<tr>
<td><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #795E26">days</span><span style="color: #000000">(</span><span style="color: #001080">t1</span><span style="color: #000000"> </span><span style="color: #0000FF">to</span><span style="color: #000000"> </span><span style="color: #001080">t2</span><span style="color: #000000">)</span></span></code></td>

<td>... days ...</td>
</tr>

<tr>
<td><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #795E26">weeks</span><span style="color: #000000">(</span><span style="color: #001080">t1</span><span style="color: #000000"> </span><span style="color: #0000FF">to</span><span style="color: #000000"> </span><span style="color: #001080">t2</span><span style="color: #000000">)</span></span></code></td>

<td>... weeks ...</td>
</tr>

<tr>
<td><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #795E26">months</span><span style="color: #000000">(</span><span style="color: #001080">t1</span><span style="color: #000000"> </span><span style="color: #0000FF">to</span><span style="color: #000000"> </span><span style="color: #001080">t2</span><span style="color: #000000">)</span></span></code></td>

<td>... months ...</td>
</tr>

<tr>
<td><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #795E26">quarters</span><span style="color: #000000">(</span><span style="color: #001080">t1</span><span style="color: #000000"> </span><span style="color: #0000FF">to</span><span style="color: #000000"> </span><span style="color: #001080">t2</span><span style="color: #000000">)</span></span></code></td>

<td>... quarters ...</td>
</tr>

<tr>
<td><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #795E26">years</span><span style="color: #000000">(</span><span style="color: #001080">t1</span><span style="color: #000000"> </span><span style="color: #0000FF">to</span><span style="color: #000000"> </span><span style="color: #001080">t2</span><span style="color: #000000">)</span></span></code></td>

<td>... years ...</td>
</tr>
</tbody></table>
<p>These will return a negative number if t1 is later than t2.</p>

      <h2>
        <a id="literals" class="header-link anchor" href="#literals">
          Literals
        </a>
      </h2>
    <p>Time literals are specified in Malloy with the <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #098658">@</span></span></code> character. A literal
specified this way has an implied duration which means a literal
can act like a range.</p>
<p>For example the year <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #098658">@2003</span></span></code> can be used with <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">eventTime</span><span style="color: #000000"> : </span><span style="color: #098658">@2003</span></span></code> to test if the
event happened in the year 2003.</p>
<table>
<thead>
<tr>
<th>Literal pattern</th>

<th>Duration</th>

<th>Begins</th>
</tr>
</thead>
<tbody><tr>
<td><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #098658">@DDDD</span></span></code></td>

<td>One year</td>

<td>The first day of that year</td>
</tr>

<tr>
<td><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #098658">@DDDD-QN</span></span></code></td>

<td>Three months</td>

<td>The first day of that quarter</td>
</tr>

<tr>
<td><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #098658">@DDDD-MM</span></span></code></td>

<td>One month</td>

<td>The first day of that month</td>
</tr>

<tr>
<td><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #098658">@WKDDDD-MM-SS</span></span></code></td>

<td>Seven days</td>

<td>Sunday of the week containing that day</td>
</tr>

<tr>
<td><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #098658">@DDDD-MM-DD</span></span></code></td>

<td>One day</td>

<td>Midnight on the specified date</td>
</tr>

<tr>
<td><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #098658">@DDDD-MM-DD HH:MM</span></span></code></td>

<td>One Minute</td>

<td>The specified time</td>
</tr>

<tr>
<td><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #098658">@DDDD-MM-DD HH:MM:SS</span></span></code></td>

<td>One Second</td>

<td>the specified time</td>
</tr>

<tr>
<td><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">now</span></span></code></td>

<td><em>N/A</em></td>

<td>The current time, without implied duration</td>
</tr>
</tbody></table>

      <h3>
        <a id="time-units" class="header-link anchor" href="#time-units">
          Time Units
        </a>
      </h3>
    <p>These are the time units currently supported by Malloy.</p>
<ul>
<li><p><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #0000FF">second</span></span></code>, <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #0000FF">minute</span></span></code>, <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #0000FF">hour</span></span></code>, <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #0000FF">week</span></span></code>, <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #0000FF">month</span></span></code>, <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #0000FF">quarter</span></span></code>, <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #0000FF">year</span></span></code></p>
</li></ul>
</div></div>
        </div>
        <script src="/malloy/js/view_toggles.js"></script>
      </div>
    </div>
    <div id="banner_wrapper">
  <div id="banner">
    <div>
      This site uses cookies from Google to deliver its services and to analyze
      traffic.
      <a
        href="https://policies.google.com/technologies/cookies"
        target="_blank"
      >
        Learn more
      </a>
    </div>
    <button id="banner_button">I Understand</button>
  </div>
</div>

    <script src="/malloy/js/banner.js"></script>
  </body>
</html>
